# Run the project
run:
    uv run {{PROJECT_NAME}}

# Run with auto-reload
dev:
    uv run uvicorn {{MODULE_NAME}}.app:app --host 0.0.0.0 --port ${PORT:-4000} --reload --app-dir src

# Run tests
test:
    uv run pytest

# Run tests continuously (on file change)
test-watch:
    fd -e py -e html | entr -cn uv run pytest

# Add a dependency
add *packages:
    uv add {{packages}}

# Open in browser
browse:
    @u="http://${DEV_HOST:-localhost}:${PORT:-4000}"; printf '\e]52;c;%s\a' "$(printf '%s' "$u" | base64)" > /dev/tty ; echo "Copied to clipboard: $u"
